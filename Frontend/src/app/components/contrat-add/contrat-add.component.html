<h2>Ajouter un Contrat</h2>

<p *ngIf="errorMessage" class="error">{{ errorMessage }}</p>
<p *ngIf="successMessage" class="success">{{ successMessage }}</p>

<form [formGroup]="contratForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="numero">Numéro</label>
    <input id="numero" formControlName="numero" type="text" />
  </div>
  
  <div>
    <label for="client">Client</label>
    <select id="client" formControlName="client">
      <option *ngFor="let client of clients" [value]="client.id">{{ client.nom_complet }}</option>
    </select>
  </div>

  <div>
    <label for="conducteur">Conducteur</label>
    <select id="conducteur" formControlName="conducteur">
      <option *ngFor="let conducteur of conducteurs" [value]="conducteur.id">{{ conducteur.nom_complet }}</option>
    </select>
  </div>

  <div>
    <label for="vehicule">Véhicule</label>
    <select id="vehicule" formControlName="vehicule">
      <option *ngFor="let vehicule of vehicules" [value]="vehicule.id">{{ vehicule.marque }} {{ vehicule.modele }}</option>
    </select>
  </div>

  <div>
    <label for="date_prise">Date de Prise</label>
    <input id="date_prise" formControlName="date_prise" type="date" />
  </div>

  <div>
    <label for="date_retour">Date de Retour</label>
    <input id="date_retour" formControlName="date_retour" type="date" />
  </div>

  <div>
    <label for="total_ttc">Total TTC</label>
    <input id="total_ttc" formControlName="total_ttc" type="number" />
  </div>

  <div>
    <label for="reste">Reste</label>
    <input id="reste" formControlName="reste" type="number" />
  </div>

  <div>
    <label for="etat">État</label>
    <select id="etat" formControlName="etat">
      <option value="brouillon">Brouillon</option>
      <option value="actif">Actif</option>
      <option value="termine">Terminé</option>
      <option value="annule">Annulé</option>
    </select>
  </div>

  <button type="submit">Ajouter</button>
</form>
